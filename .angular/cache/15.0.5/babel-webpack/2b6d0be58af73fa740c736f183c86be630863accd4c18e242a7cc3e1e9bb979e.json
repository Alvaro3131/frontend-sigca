{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport swal from 'sweetalert2';\nimport { Sesion } from 'src/app/models/sesion';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../service/modulos.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction CuadroSesionesComponent_section_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"section\", 1)(1, \"header\", 2)(2, \"button\", 3);\n    i0.ɵɵlistener(\"click\", function CuadroSesionesComponent_section_0_Template_button_click_2_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const datos_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.datosMostarRecurso(datos_r1.id_sesion));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 4)(6, \"i\", 5);\n    i0.ɵɵlistener(\"click\", function CuadroSesionesComponent_section_0_Template_i_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const datos_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.eliminarSesion(datos_r1.id_sesion));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"i\", 6);\n    i0.ɵɵlistener(\"click\", function CuadroSesionesComponent_section_0_Template_i_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const datos_r1 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.traerIdSesion(datos_r1.id_sesion));\n    });\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9)(11, \"div\", 10)(12, \"h5\", 11);\n    i0.ɵɵtext(13, \"Actualizar Sesion\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"button\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 13)(16, \"form\")(17, \"div\", 14)(18, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function CuadroSesionesComponent_section_0_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.sesion.no_sesion = $event);\n    });\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(19, \"div\", 16)(20, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function CuadroSesionesComponent_section_0_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.limpiarSesion());\n    });\n    i0.ɵɵtext(21, \" Cerrar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function CuadroSesionesComponent_section_0_Template_button_click_22_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.editarSesion());\n    });\n    i0.ɵɵtext(23, \" Guardar \");\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const datos_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i_r2 + 1, \".\", i0.ɵɵpipeBind1(4, 3, datos_r1.no_sesion), \" \");\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.sesion.no_sesion);\n  }\n}\nexport class CuadroSesionesComponent {\n  constructor(Service) {\n    this.Service = Service;\n    this.datosMostrarSesion = [];\n    this.id_modulo = 0;\n    this.status = new EventEmitter();\n    this.id = new EventEmitter();\n    this.recurso = [];\n    this.id_sesion = 0;\n    this.sesion = new Sesion();\n  }\n  ngOnChanges() {\n    this.cargarSesionesID();\n  }\n  ngOnInit() {\n    this.cargarSesionesID();\n  }\n  ngDoCheck() {\n    // this.cargarSesionesID();\n  }\n  cargarSesionesID() {\n    console.log(this.id_modulo);\n    this.Service.getSesionModulo(this.id_modulo).subscribe(e => {\n      this.datosMostrarSesion = e;\n      console.log(this.datosMostrarSesion);\n    });\n  }\n  datosMostarRecurso(id) {\n    this.status.emit(false);\n    this.id.emit(id);\n  }\n  borrarDatosRecurso() {\n    this.recurso.find(e => {\n      this.recurso.pop();\n    });\n  }\n  eliminarSesion(id) {\n    swal.fire({\n      title: \"<h1 style='color:red'>Eliminar</h1>\",\n      text: '¿Desea eliminar esta Sesion?',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Confirmar',\n      cancelButtonText: 'Cancelar',\n      cancelButtonColor: '#DD6B55',\n      footer: '<span class=\"red\">Lea antes de confirmar</span>',\n      allowOutsideClick: false\n    }).then(resultado => {\n      if (resultado.value) {\n        // Hicieron click en \"Sí\"\n        console.log(id);\n        this.Service.eiminarSesion(id).subscribe(e => console.log(e));\n        swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: 'Tu sesion se elimino con exito',\n          showConfirmButton: false,\n          timer: 1500\n        });\n        this.cargarSesionesID();\n      } else {\n        // Dijeron que no\n        console.log('*No se elimina la venta*');\n      }\n    });\n  }\n  editarSesion() {\n    swal.fire({\n      title: \"<h1 style='color:blue'>Editar</h1>\",\n      text: '¿Desea Editar esta Sesion?',\n      icon: 'question',\n      showCancelButton: true,\n      confirmButtonText: 'Confirmar',\n      cancelButtonText: 'Cancelar',\n      cancelButtonColor: '#DD6B55',\n      footer: '<span class=\"red\">Lea antes de confirmar</span>',\n      allowOutsideClick: false\n    }).then(resultado => {\n      if (resultado.value) {\n        // Hicieron click en \"Sí\"\n        this.sesion.modulo = {\n          id_modulo: this.id_modulo\n        };\n        this.sesion.id_sesion = this.id_sesion;\n        this.Service.updateSesion(this.sesion.id_sesion, this.sesion).subscribe();\n        this.cargarSesionesID();\n        swal.fire({\n          position: 'center',\n          icon: 'success',\n          title: 'Tu sesion se edito con exito',\n          showConfirmButton: false,\n          timer: 2000\n        });\n        this.limpiarSesion();\n      } else {\n        // Dijeron que no\n        console.log('*No se actualizo la venta*');\n      }\n    });\n  }\n  traerIdSesion(id) {\n    this.id_sesion = id;\n    this.Service.buscarSesionId(this.id_sesion).subscribe(e => {\n      this.sesion.id_sesion = e.id_sesion;\n      this.sesion.no_sesion = e.no_sesion;\n      this.sesion.no_recursos = e.no_recursos;\n      this.sesion.modulo = {\n        id_modulo: e.modulo.id_modulo\n      };\n    });\n  }\n  limpiarSesion() {\n    this.sesion.no_sesion = '';\n    //this.sesion.modulo = null;\n    this.id_sesion = 0;\n  }\n}\nCuadroSesionesComponent.ɵfac = function CuadroSesionesComponent_Factory(t) {\n  return new (t || CuadroSesionesComponent)(i0.ɵɵdirectiveInject(i1.ModulosService));\n};\nCuadroSesionesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CuadroSesionesComponent,\n  selectors: [[\"SIGCA-cuadro-sesiones\"]],\n  inputs: {\n    id_modulo: \"id_modulo\"\n  },\n  outputs: {\n    status: \"status\",\n    id: \"id\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[\"class\", \"section-main\", 4, \"ngFor\", \"ngForOf\"], [1, \"section-main\"], [1, \"header\", \"d-flex\", \"p-1\"], [1, \"header__title\", \"w-100\", 3, \"click\"], [1, \"d-flex\", \"align-items-center\"], [1, \"far\", \"fa-trash-alt\", \"header__icon\", \"header__icon--red\", \"borrarSesion\", 3, \"click\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalUpdateSesion\", 1, \"fas\", \"fa-edit\", \"header__icon\", \"header__icon--yellow\", 3, \"click\"], [\"id\", \"modalUpdateSesion\", \"tabindex\", \"-1\", \"aria-labelledby\", \"modalTitle\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\", \"bg-modal\"], [1, \"modal-header\"], [1, \"modal-title\", \"h3\", \"text-white\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\", \"modal-size-sesion\"], [1, \"mb-3\"], [\"name\", \"nombreModulo\", \"type\", \"text\", \"placeholder\", \" Ingrese Sesion\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"modal-footer\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-primary\", \"actualizarSesion1\", 3, \"click\"]],\n  template: function CuadroSesionesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CuadroSesionesComponent_section_0_Template, 24, 5, \"section\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngForOf\", ctx.datosMostrarSesion);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i2.UpperCasePipe],\n  styles: [\".section-main[_ngcontent-%COMP%] {\\n  width: 22%;\\n  height: 200px;\\n  \\n  \\n}\\n\\n.header[_ngcontent-%COMP%] {\\n  \\n  height: 100%;\\n}\\n\\n.header__title[_ngcontent-%COMP%] {\\n  color: white;\\n  font-size: 16px;\\n  border: 1px solid black;\\n  border-radius: 10px;\\n  background-color: #007b5f;\\n}\\n\\n.header__title[_ngcontent-%COMP%]:hover {\\n  background-color: #1a9175b0;\\n}\\n\\n.header__icon[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  margin-left: 3px;\\n  display: inline-block;\\n}\\n\\n.header__icon--red[_ngcontent-%COMP%] {\\n  color: red;\\n}\\n\\n.header__icon--yellow[_ngcontent-%COMP%] {\\n  color: black;\\n}\\n\\n.header__icon[_ngcontent-%COMP%]:hover {\\n  cursor: pointer;\\n  color: blue;\\n}\\n\\n.bg-modal[_ngcontent-%COMP%] {\\n  background-color: #007b5f;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZXF1aXBvLXRlY25pY28vY3JlYXJNb2R1bG8vY3VhZHJvLXNlc2lvbmVzL2N1YWRyby1zZXNpb25lcy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsVUFBVTtFQUNWLGFBQWE7RUFDYiw2QkFBNkI7RUFDN0IseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFlBQVk7RUFDWixlQUFlO0VBQ2YsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQix5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsZ0JBQWdCO0VBQ2hCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLFVBQVU7QUFDWjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGVBQWU7RUFDZixXQUFXO0FBQ2I7O0FBRUE7RUFDRSx5QkFBeUI7QUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIuc2VjdGlvbi1tYWluIHtcbiAgd2lkdGg6IDIyJTtcbiAgaGVpZ2h0OiAyMDBweDtcbiAgLyogYm9yZGVyOiAxcHggc29saWQgYmxhY2s7ICovXG4gIC8qIGJvcmRlci1yYWRpdXM6IDEwcHg7ICovXG59XG5cbi5oZWFkZXIge1xuICAvKiBib3JkZXItcmFkaXVzOiAxMHB4OyAqL1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5oZWFkZXJfX3RpdGxlIHtcbiAgY29sb3I6IHdoaXRlO1xuICBmb250LXNpemU6IDE2cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xuICBib3JkZXItcmFkaXVzOiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YjVmO1xufVxuXG4uaGVhZGVyX190aXRsZTpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMxYTkxNzViMDtcbn1cblxuLmhlYWRlcl9faWNvbiB7XG4gIGZvbnQtc2l6ZTogMnJlbTtcbiAgbWFyZ2luLWxlZnQ6IDNweDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4uaGVhZGVyX19pY29uLS1yZWQge1xuICBjb2xvcjogcmVkO1xufVxuXG4uaGVhZGVyX19pY29uLS15ZWxsb3cge1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5oZWFkZXJfX2ljb246aG92ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiBibHVlO1xufVxuXG4uYmctbW9kYWwge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YjVmO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","swal","Sesion","i0","CuadroSesionesComponent","constructor","Service","ngOnChanges","cargarSesionesID","ngOnInit","ngDoCheck","console","log","id_modulo","getSesionModulo","subscribe","e","datosMostrarSesion","datosMostarRecurso","id","status","emit","borrarDatosRecurso","recurso","find","pop","eliminarSesion","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","cancelButtonColor","footer","allowOutsideClick","then","resultado","value","eiminarSesion","position","showConfirmButton","timer","editarSesion","sesion","modulo","id_sesion","updateSesion","limpiarSesion","traerIdSesion","buscarSesionId","no_sesion","no_recursos","selectors","inputs","outputs","features","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/alvaroalvachipana/Documents/Proyectos/Universidad/frontend-sigca/src/app/equipo-tecnico/crearModulo/cuadro-sesiones/cuadro-sesiones.component.ts","/Users/alvaroalvachipana/Documents/Proyectos/Universidad/frontend-sigca/src/app/equipo-tecnico/crearModulo/cuadro-sesiones/cuadro-sesiones.component.html"],"sourcesContent":["import {\n  Component,\n  EventEmitter,\n  Input,\n  OnChanges,\n  DoCheck,\n  OnInit,\n  Output,\n} from '@angular/core';\nimport swal from 'sweetalert2';\nimport { Sesion } from 'src/app/models/sesion';\nimport { ModulosService } from '../service/modulos.service';\n\n@Component({\n  selector: 'SIGCA-cuadro-sesiones',\n  templateUrl: './cuadro-sesiones.component.html',\n  styleUrls: ['./cuadro-sesiones.component.css'],\n})\nexport class CuadroSesionesComponent implements OnInit, OnChanges, DoCheck {\n  datosMostrarSesion: any[] = [];\n  @Input() id_modulo: number = 0;\n  @Output() status: EventEmitter<boolean> = new EventEmitter();\n  @Output() id: EventEmitter<number> = new EventEmitter();\n  recurso: any[] = [];\n  id_sesion: number = 0;\n  sesion: Sesion = new Sesion();\n  constructor(private Service: ModulosService) {}\n\n  ngOnChanges(): void {\n    this.cargarSesionesID();\n  }\n  ngOnInit(): void {\n    this.cargarSesionesID();\n  }\n\n  ngDoCheck() {\n    // this.cargarSesionesID();\n  }\n  cargarSesionesID() {\n    console.log(this.id_modulo);\n    this.Service.getSesionModulo(this.id_modulo).subscribe((e) => {\n      this.datosMostrarSesion = e;\n      console.log(this.datosMostrarSesion);\n    });\n  }\n\n  datosMostarRecurso(id: number): void {\n    this.status.emit(false);\n    this.id.emit(id);\n  }\n\n  borrarDatosRecurso() {\n    this.recurso.find((e) => {\n      this.recurso.pop();\n    });\n  }\n\n  eliminarSesion(id: number) {\n    swal\n      .fire({\n        title: \"<h1 style='color:red'>Eliminar</h1>\",\n        text: '¿Desea eliminar esta Sesion?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Confirmar',\n        cancelButtonText: 'Cancelar',\n        cancelButtonColor: '#DD6B55',\n        footer: '<span class=\"red\">Lea antes de confirmar</span>',\n        allowOutsideClick: false,\n      })\n      .then((resultado) => {\n        if (resultado.value) {\n          // Hicieron click en \"Sí\"\n          console.log(id);\n          this.Service.eiminarSesion(id).subscribe((e) => console.log(e));\n          swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: 'Tu sesion se elimino con exito',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n          this.cargarSesionesID();\n        } else {\n          // Dijeron que no\n          console.log('*No se elimina la venta*');\n        }\n      });\n  }\n\n  editarSesion() {\n    swal\n      .fire({\n        title: \"<h1 style='color:blue'>Editar</h1>\",\n        text: '¿Desea Editar esta Sesion?',\n        icon: 'question',\n        showCancelButton: true,\n        confirmButtonText: 'Confirmar',\n        cancelButtonText: 'Cancelar',\n        cancelButtonColor: '#DD6B55',\n        footer: '<span class=\"red\">Lea antes de confirmar</span>',\n        allowOutsideClick: false,\n      })\n      .then((resultado) => {\n        if (resultado.value) {\n          // Hicieron click en \"Sí\"\n          this.sesion.modulo = { id_modulo: this.id_modulo };\n          this.sesion.id_sesion = this.id_sesion;\n          this.Service.updateSesion(\n            this.sesion.id_sesion,\n            this.sesion\n          ).subscribe();\n          this.cargarSesionesID();\n          swal.fire({\n            position: 'center',\n            icon: 'success',\n            title: 'Tu sesion se edito con exito',\n            showConfirmButton: false,\n            timer: 2000,\n          });\n          this.limpiarSesion();\n        } else {\n          // Dijeron que no\n          console.log('*No se actualizo la venta*');\n        }\n      });\n  }\n\n  traerIdSesion(id: number) {\n    this.id_sesion = id;\n    this.Service.buscarSesionId(this.id_sesion).subscribe((e) => {\n      this.sesion.id_sesion = e.id_sesion;\n      this.sesion.no_sesion = e.no_sesion;\n      this.sesion.no_recursos = e.no_recursos;\n      this.sesion.modulo = { id_modulo: e.modulo.id_modulo };\n    });\n  }\n\n  limpiarSesion() {\n    this.sesion.no_sesion = '';\n    //this.sesion.modulo = null;\n    this.id_sesion = 0;\n  }\n}\n","<section\n  *ngFor=\"let datos of datosMostrarSesion; index as i\"\n  class=\"section-main\"\n>\n  <!--?? Sesiones -->\n  <header class=\"header d-flex p-1\">\n    <button\n      class=\"header__title w-100\"\n      (click)=\"datosMostarRecurso(datos.id_sesion)\"\n    >\n      {{ i + 1 }}.{{ datos.no_sesion | uppercase }}\n    </button>\n    <div class=\"d-flex align-items-center\">\n      <i\n        class=\"far fa-trash-alt header__icon header__icon--red borrarSesion\"\n        (click)=\"eliminarSesion(datos.id_sesion)\"\n      ></i>\n      <i\n        class=\"fas fa-edit header__icon header__icon--yellow\"\n        data-bs-toggle=\"modal\"\n        data-bs-target=\"#modalUpdateSesion\"\n        (click)=\"traerIdSesion(datos.id_sesion)\"\n      ></i>\n    </div>\n  </header>\n\n  <div\n    class=\"modal fade\"\n    id=\"modalUpdateSesion\"\n    tabindex=\"-1\"\n    aria-labelledby=\"modalTitle\"\n    aria-hidden=\"true\"\n  >\n    <div class=\"modal-dialog\">\n      <div class=\"modal-content bg-modal\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title h3 text-white\">Actualizar Sesion</h5>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body modal-size-sesion\">\n          <form>\n            <div class=\"mb-3\">\n              <input\n                name=\"nombreModulo\"\n                type=\"text\"\n                class=\"form-control\"\n                [(ngModel)]=\"sesion.no_sesion\"\n                placeholder=\" Ingrese Sesion\"\n              />\n            </div>\n          </form>\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-bs-dismiss=\"modal\"\n            (click)=\"limpiarSesion()\"\n          >\n            Cerrar\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-primary actualizarSesion1\"\n            data-bs-dismiss=\"modal\"\n            (click)=\"editarSesion()\"\n          >\n            Guardar\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n  <!-- ?? Recursos -->\n</section>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}