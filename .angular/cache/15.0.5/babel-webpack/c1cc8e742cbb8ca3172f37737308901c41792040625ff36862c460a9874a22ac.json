{"ast":null,"code":"import { Usuario } from 'src/app/equipo-tecnico/reportes/reporte';\nimport swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class LoginComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.a = [];\n    this.usuario = new Usuario();\n  }\n  ngOnInit() {}\n  // ingresarCuenta(){\n  //     this.router.navigate([\"/home\"],{relativeTo:this.route});\n  // }\n  ingresar() {\n    this.authService.login(this.usuario).subscribe(response => {\n      console.log(response);\n      this.authService.guardarUsuario(response.access_token);\n      this.authService.guardarToken(response.access_token);\n      let usuario = this.authService.usuario;\n      var x = Number(sessionStorage.getItem('idusuario'));\n      swal.fire('Login', `Hola ${usuario.username}, has iniciado sesión con exito!`);\n      this.authService.getRoles(x).subscribe(data => {\n        this.a = data;\n        sessionStorage.setItem('rol', this.a[0].nombrerol);\n        console.log(this.a);\n        for (let i = 0; i < this.a.length; i++) {\n          if (this.a[i].nombrerol == 'Socio') {\n            this.router.navigate(['/vistaSocio']);\n          } else {\n            this.router.navigate(['/dashboard/equipoTecnico']);\n          }\n        }\n      });\n    }, error => {\n      if (error.status == 400) {\n        swal.fire('Error Login', 'Usuario o clave Incorrecta', 'error');\n      }\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"SIGCA-login\"]],\n  decls: 29,\n  vars: 2,\n  consts: [[1, \"container-fluid\", \"ps-md-0\"], [1, \"row\", \"g-0\"], [1, \"d-none\", \"d-md-flex\", \"col-md-4\", \"col-lg-9\", \"bg-image\"], [1, \"col-md-8\", \"col-lg-3\"], [1, \"login\", \"d-flex\", \"align-items-center\", \"py-5\"], [1, \"container\"], [1, \"row\"], [1, \"col-md-9\", \"col-lg-8\", \"mx-auto\"], [\"src\", \"https://adracolombia.org/wp-content/uploads/2020/09/ADRA-Horizontal-Logo.png\", 1, \"d-none\", \"d-md-flex\", \"col-md-4\", \"col-lg-12\"], [1, \"login-heading\", \"mb-4\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Username\", \"name\", \"username\", \"autofocus\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingInput\"], [\"type\", \"password\", \"placeholder\", \"password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingPassword\"], [1, \"form-check\", \"mb-3\"], [\"type\", \"checkbox\", \"value\", \"\", \"id\", \"rememberPasswordCheck\", 1, \"form-check-input\"], [\"for\", \"rememberPasswordCheck\", 1, \"form-check-label\"], [1, \"d-grid\"], [\"type\", \"submit\", 1, \"btn\", \"btn-lg\", \"btn-secondary\", \"btn-login\", \"text-uppercase\", \"fw-bold\", \"mb-2\", 3, \"click\"], [1, \"text-center\"], [\"href\", \"#\", 1, \"small\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7);\n      i0.ɵɵelement(8, \"img\", 8)(9, \"h3\", 9);\n      i0.ɵɵelementStart(10, \"form\")(11, \"div\", 10)(12, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_12_listener($event) {\n        return ctx.usuario.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"label\", 12);\n      i0.ɵɵtext(14, \"Usuario\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 10)(16, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.usuario.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"label\", 14);\n      i0.ɵɵtext(18, \"Contrase\\u00F1a\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 15);\n      i0.ɵɵelement(20, \"input\", 16);\n      i0.ɵɵelementStart(21, \"label\", 17);\n      i0.ɵɵtext(22, \" Recordarme \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 18)(24, \"button\", 19);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_24_listener() {\n        return ctx.ingresar();\n      });\n      i0.ɵɵtext(25, \" Ingresar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 20)(27, \"a\", 21);\n      i0.ɵɵtext(28, \"\\u00BFOlvidaste tu contrase\\u00F1a?\");\n      i0.ɵɵelementEnd()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngModel\", ctx.usuario.username);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.usuario.password);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".login[_ngcontent-%COMP%] {\\n  min-height: 100vh;\\n}\\n\\n.bg-image[_ngcontent-%COMP%] {\\n  background-image: url('https://adra.org.nz/wp-content/uploads/2021/01/ADRA-ZoomBackgrounds2.jpg');\\n  background-size: cover;\\n  background-position: center;\\n}\\n\\n.login-heading[_ngcontent-%COMP%] {\\n  font-weight: 300;\\n}\\n\\n.btn-login[_ngcontent-%COMP%] {\\n  font-size: 0.9rem;\\n  letter-spacing: 0.05rem;\\n  padding: 0.75rem 1rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29yZS9wcmVzZW50YXRpb24vdmlldy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0UsaUdBQWlHO0VBQ2pHLHNCQUFzQjtFQUN0QiwyQkFBMkI7QUFDN0I7O0FBRUE7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSxpQkFBaUI7RUFDakIsdUJBQXVCO0VBQ3ZCLHFCQUFxQjtBQUN2QiIsInNvdXJjZXNDb250ZW50IjpbIi5sb2dpbiB7XG4gIG1pbi1oZWlnaHQ6IDEwMHZoO1xufVxuXG4uYmctaW1hZ2Uge1xuICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJ2h0dHBzOi8vYWRyYS5vcmcubnovd3AtY29udGVudC91cGxvYWRzLzIwMjEvMDEvQURSQS1ab29tQmFja2dyb3VuZHMyLmpwZycpO1xuICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyO1xuICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7XG59XG5cbi5sb2dpbi1oZWFkaW5nIHtcbiAgZm9udC13ZWlnaHQ6IDMwMDtcbn1cblxuLmJ0bi1sb2dpbiB7XG4gIGZvbnQtc2l6ZTogMC45cmVtO1xuICBsZXR0ZXItc3BhY2luZzogMC4wNXJlbTtcbiAgcGFkZGluZzogMC43NXJlbSAxcmVtO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAAcA,OAAO,QAAQ,yCAAyC;AACtE,OAAOC,IAAI,MAAM,aAAa;;;;;AAS9B,OAAM,MAAOC,cAAc;EAGzBC,YAAmBC,WAAwB,EAAUC,MAAc;IAAhD,gBAAW,GAAXD,WAAW;IAAuB,WAAM,GAANC,MAAM;IAF3D,MAAC,GAAQ,EAAE;IAGT,IAAI,CAACC,OAAO,GAAG,IAAIN,OAAO,EAAE;EAC9B;EACAO,QAAQ,IAAU;EAElB;EAEA;EACA;EAEAC,QAAQ;IAEN,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC,IAAI,CAACH,OAAO,CAAC,CAACI,SAAS,CAAEC,QAAQ,IAAI;MAC1DC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;MACrB,IAAI,CAACP,WAAW,CAACU,cAAc,CAACH,QAAQ,CAACI,YAAY,CAAC;MACtD,IAAI,CAACX,WAAW,CAACY,YAAY,CAACL,QAAQ,CAACI,YAAY,CAAC;MACpD,IAAIT,OAAO,GAAG,IAAI,CAACF,WAAW,CAACE,OAAO;MAEtC,IAAIW,CAAC,GAAGC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC;MACnDnB,IAAI,CAACoB,IAAI,CAAC,OAAO,EAAE,QAAQf,OAAO,CAACgB,QAAQ,kCAAkC,CAAC;MAC9E,IAAI,CAAClB,WAAW,CAACmB,QAAQ,CAACN,CAAC,CAAC,CAACP,SAAS,CAAEc,IAAW,IAAI;QACrD,IAAI,CAACC,CAAC,GAAGD,IAAI;QACbL,cAAc,CAACO,OAAO,CAAC,KAAK,EAAC,IAAI,CAACD,CAAC,CAAC,CAAC,CAAC,CAACE,SAAS,CAAC;QACjDf,OAAO,CAACC,GAAG,CAAC,IAAI,CAACY,CAAC,CAAC;QAEnB,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,IAAI,CAACH,CAAC,CAACI,MAAM,EAAED,CAAC,EAAE,EAAE;UACtC,IAAI,IAAI,CAACH,CAAC,CAACG,CAAC,CAAC,CAACD,SAAS,IAAI,OAAO,EAAE;YAElC,IAAI,CAACtB,MAAM,CAACyB,QAAQ,CAAC,CAAC,aAAa,CAAC,CAAC;WACtC,MAAM;YACL,IAAI,CAACzB,MAAM,CAACyB,QAAQ,CAAC,CAAC,0BAA0B,CAAC,CAAC;;;MAGxD,CAAC,CAAC;IAIJ,CAAC,EAACC,KAAK,IAAE;MACP,IAAGA,KAAK,CAACC,MAAM,IAAI,GAAG,EAAC;QACrB/B,IAAI,CAACoB,IAAI,CAAC,aAAa,EAAE,4BAA4B,EAAE,OAAO,CAAC;;IAErE,CAAC,CAAG;EACJ;;;mBA7CWnB,cAAc;AAAA;;QAAdA,cAAc;EAAA+B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCZ3BC,8BAAqC;MAEjCA,yBAA+D;MAC/DA,8BAA+B;MAKrBA,yBAGE;MAIFA,6BAAM;MAGFA;QAAA;MAAA,EAAgC;MADhCA,iBAEE;MACFA,kCAA2B;MAAAA,wBAAO;MAAAA,iBAAQ;MAG5CA,gCAAgC;MAEdA;QAAA;MAAA,EAAgC;MADhDA,iBAEE;MACFA,kCAA8B;MAAAA,gCAAU;MAAAA,iBAAQ;MAGlDA,gCAA6B;MAC3BA,6BAME;MACFA,kCAA4D;MAC1DA,6BACF;MAAAA,iBAAQ;MAGVA,gCAAoB;MAEhBA;QAAA,OAASC,cAAU;MAAA,EAAC;MASpBD,2BACF;MAAAA,iBAAS;MACTA,gCAAyB;MACGA,oDAAyB;MAAAA,iBAAI;;;MAvCzDA,gBAAgC;MAAhCA,8CAAgC;MAOhBA,eAAgC;MAAhCA,8CAAgC","names":["Usuario","swal","LoginComponent","constructor","authService","router","usuario","ngOnInit","ingresar","login","subscribe","response","console","log","guardarUsuario","access_token","guardarToken","x","Number","sessionStorage","getItem","fire","username","getRoles","data","a","setItem","nombrerol","i","length","navigate","error","status","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/alvaroalvachipana/Documents/Proyectos/Universidad/frontend-sigca/src/app/core/presentation/view/login/login.component.ts","/Users/alvaroalvachipana/Documents/Proyectos/Universidad/frontend-sigca/src/app/core/presentation/view/login/login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Rol, Usuario } from 'src/app/equipo-tecnico/reportes/reporte';\nimport swal from 'sweetalert2';\nimport { AuthService } from './auth.service';\n\n\n@Component({\n  selector: 'SIGCA-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css'],\n})\nexport class LoginComponent implements OnInit {\n  a: any = [];\n  usuario: Usuario;\n  constructor(public authService: AuthService, private router: Router) {\n    this.usuario = new Usuario();\n  }\n  ngOnInit(): void {}\n\n  // ingresarCuenta(){\n\n  //     this.router.navigate([\"/home\"],{relativeTo:this.route});\n  // }\n\n  ingresar() {\n    \n    this.authService.login(this.usuario).subscribe((response) => {\n      console.log(response);\n      this.authService.guardarUsuario(response.access_token);\n      this.authService.guardarToken(response.access_token);\n      let usuario = this.authService.usuario;\n\n      var x = Number(sessionStorage.getItem('idusuario'));\n      swal.fire('Login', `Hola ${usuario.username}, has iniciado sesión con exito!`)\n      this.authService.getRoles(x).subscribe((data: any[]) => {\n        this.a = data;\n        sessionStorage.setItem('rol',this.a[0].nombrerol);\n        console.log(this.a);\n        \n        for (let i = 0; i < this.a.length; i++) {\n          if (this.a[i].nombrerol == 'Socio') {\n            \n            this.router.navigate(['/vistaSocio']);\n          } else {\n            this.router.navigate(['/dashboard/equipoTecnico']);\n          }\n        }\n      });\n\n      \n     \n    },error=>{\n      if(error.status == 400){\n        swal.fire('Error Login', 'Usuario o clave Incorrecta', 'error');\n      }\n  }  );\n  }\n\n\n}\n","<div class=\"container-fluid ps-md-0\">\n  <div class=\"row g-0\">\n    <div class=\"d-none d-md-flex col-md-4 col-lg-9 bg-image\"></div>\n    <div class=\"col-md-8 col-lg-3\">\n      <div class=\"login d-flex align-items-center py-5\">\n        <div class=\"container\">\n          <div class=\"row\">\n            <div class=\"col-md-9 col-lg-8 mx-auto\">\n              <img\n                class=\"d-none d-md-flex col-md-4 col-lg-12\"\n                src=\"https://adracolombia.org/wp-content/uploads/2020/09/ADRA-Horizontal-Logo.png\"\n              />\n              <h3 class=\"login-heading mb-4\"></h3>\n\n              <!-- Sign In Form -->\n              <form>\n                <div class=\"form-floating mb-3\">\n                  <input\n                  [(ngModel)] = \"usuario.username\" type=\"text\" class=\"form-control\" placeholder=\"Username\" name=\"username\" autofocus\n                  />\n                  <label for=\"floatingInput\">Usuario</label>\n                </div>\n\n                <div class=\"form-floating mb-3\">\n                  <input\n                  type=\"password\" [(ngModel)] = \"usuario.password\" class=\"form-control\" placeholder=\"password\" name=\"password\"\n                  />\n                  <label for=\"floatingPassword\">Contraseña</label>\n                </div>\n\n                <div class=\"form-check mb-3\">\n                  <input\n                  \n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    value=\"\"\n                    id=\"rememberPasswordCheck\"\n                  />\n                  <label class=\"form-check-label\" for=\"rememberPasswordCheck\">\n                    Recordarme\n                  </label>\n                </div>\n\n                <div class=\"d-grid\">\n                  <button\n                    (click)=\"ingresar()\"\n                    class=\"\n                      btn btn-lg btn-secondary btn-login\n                      text-uppercase\n                      fw-bold\n                      mb-2\n                    \"\n                    type=\"submit\"\n                  >\n                    Ingresar\n                  </button>\n                  <div class=\"text-center\">\n                    <a class=\"small\" href=\"#\">¿Olvidaste tu contraseña?</a>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}